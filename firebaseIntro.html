<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firebase Realtime Database - User List</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { width: 50%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
    th { background: #f4f4f4; }
    #error { color: red; margin-top: 20px; }
  </style>
</head>
<!--Create Project → Firebase Console → Add Project.

Enable Realtime Database → Build → Realtime Database → Start in test mode.

Add Data → ⋮ (3 dots) → Import JSON → upload users.json:-->
<body>
  <h2>Users from Firebase Realtime Database</h2>
  <div id="error"></div>
  <table id="userTable">
    <thead>
      <tr><th>Name</th><th>Email</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const DATABASE_URL = "https://userapp-67eec-default-rtdb.firebaseio.com/users.json"


    async function fetchUsers() {
      try {
        let res = await fetch(DATABASE_URL);

        if (!res.ok) throw new Error("Failed to fetch data from Firebase");

        let data = await res.json();

        if (!data) {
          document.getElementById("error").innerText = "No users found in database.";
          return;
        }

        let tbody = document.querySelector("#userTable tbody");
        tbody.innerHTML = "";

        for (let key in data) {
          let user = data[key];
          let row = `<tr><td>${user.name}</td><td>${user.email}</td></tr>`;
          tbody.innerHTML += row;
        }
      } catch (error) {
        document.getElementById("error").innerText = "Error: " + error.message;
      }
    }
    fetchUsers();
  </script>
</body>
</html>
