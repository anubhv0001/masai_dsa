<!--L0 - Dynamic Theme Selector Using sessionStorage

Problem Statement:
Build a webpage with a dropdown menu to select between three themes: "Light," "Dark," and "Blue." The selected theme should immediately apply to the webpage and persist for the session using sessionStorage. Reset to "Light" when the session ends (e.g., the tab is closed).

Key Requirements:
The selected theme should change the background and text color dynamically.
Use sessionStorage to store the user's selection and apply it on page reload (within the same session).-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic Theme Selector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 30px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    select {
      padding: 8px 12px;
      font-size: 16px;
      margin-top: 20px;
    }
    body.light {
      background-color: #ffffff;
      color: #000000;
    }


    body.dark {
      background-color: #121212;
      color: #f5f5f5;
    }


    body.blue {
      background-color: #007bff;
      color: #ffffff;
    }
  </style>
</head>
<body class="light">
  <h1>Dynamic Theme Selector</h1>
  <label for="themeSelector">Choose Theme: </label>
  <select id="themeSelector">
    <option value="light">Light</option>
    <option value="dark">Dark</option>
    <option value="blue">Blue</option>
  </select>

  <script>
    const themeSelector = document.getElementById("themeSelector");
    const STORAGE_KEY = "selectedTheme";
    function applyTheme(theme) {
      document.body.className = theme;
      themeSelector.value = theme;    
    }
    window.addEventListener("DOMContentLoaded", () => {
      const savedTheme = sessionStorage.getItem(STORAGE_KEY);
      if (savedTheme) {
        applyTheme(savedTheme);
      } else {
        applyTheme("light");
      }
    });

    themeSelector.addEventListener("change", (e) => {
      const selectedTheme = e.target.value;
      applyTheme(selectedTheme);
      sessionStorage.setItem(STORAGE_KEY, selectedTheme);
    });
  </script>
</body>
</html>
