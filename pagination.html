<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Paginated User List</h1>
  <div id="users"></div>
  <div id="pagination"></div>

  <script>
     const usersContainer = document.getElementById("users");
    const paginationContainer = document.getElementById("pagination");

    let currentPage=1;
    const limit=6;
    const totalUsers=10;
     const totalPages = Math.ceil(totalUsers / limit);
       async function fetchUsers(page) {
      try {
        const response = await fetch(`https://jsonplaceholder.typicode.com/users?_page=${page}&_limit=${limit}`);
        if (!response.ok) throw new Error("Failed to fetch data");

        const data = await response.json();
        renderUsers(data);
        renderPagination(page);
      } catch (error) {
        usersContainer.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
      }
    }
    
    function renderUsers(users) {
      usersContainer.innerHTML = "";
      users.forEach(user => {
        const div = document.createElement("div");
        div.className = "user";
        div.innerHTML = `
          <strong>${user.name}</strong><br>
          <em>${user.email}</em><br>
          üìç ${user.address.city}
        `;
        usersContainer.appendChild(div);
      });
    }
    function renderPagination(activePage) {
      paginationContainer.innerHTML = "";
     for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.innerText = i;
        if (i === activePage) {
          btn.classList.add("active");
        }
        btn.addEventListener("click", () => {
          currentPage = i;
          fetchUsers(i);
        });
        paginationContainer.appendChild(btn);
      }
    }
    fetchUsers(currentPage);
  </script>
</body>
</html>